<div class="pad-20" ng-hide="users.data.searching">

  <div class="full-width text-center margin-0">
    <pagination
      total-items="users.data.inputs.count"
      items-per-page="users.data.inputs.perPage"
      ng-model="users.data.inputs.page"
      max-size="5"
      class="pagination-sm margin-0 vertical-align-top"
      previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
      boundary-links="true"
      rotate="false"
      ng-change="users.fns.update()">
    </pagination>
  </div>

  <div class="container vert-20 text-center">

    <!-- ONBOARD -->
    <div ng-if="$state.current.name == 'users.onboard'">
      <div class="btn btn-default btn-xs" ng-active="showEmail" ng-click="showEmail = !showEmail">Show email form</div>
      <div ng-show="showEmail" class="max-width-900 margin-0-auto pad-10">
        <input type="text" ng-model="users.mailto.subject" class="form-control">
        <textarea ng-model="users.mailto.body" class="form-control" rows=15></textarea>
      </div>

      <ee-admin-user
        ng-repeat="user in users.data.users"
        user="user"
        ng-if="user.id != 1 && user.id != 47"
        show-onboard="true"
        subject="users.mailto.subject"
        body="users.mailto.body">
      </ee-admin-user>
    </div>
    <!-- /ONBOARD -->

    <!-- INFO -->
    <div ng-if="$state.current.name == 'users.info'">
      <span ng-init="basics = true"></span>
      <div class="btn-group btn-group-xs vert-10 margin-top-0">
        <div class="btn btn-default" ng-click="basics = true; about = false; other = false;" ng-class="{ active: basics }">basics</div>
        <div class="btn btn-default" ng-click="basics = false; about = true; other = false;" ng-class="{ active: about }">about</div>
        <div class="btn btn-default" ng-click="basics = false; about = false; other = true;" ng-class="{ active: other }">other</div>
      </div>

      <table class="table table-condensed table-bordered table-striped table-hover text-left">
        <thead>
          <tr>
            <th>ID</th>
            <th>username</th>
            <th ng-if="basics">Store Name</th>
            <th ng-if="basics">Domain</th>
            <th ng-if="basics">Active</th>
            <th ng-if="basics">Created</th>
            <th ng-if="basics">Proposition</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="user in users.data.users">
            <td ng-bind="user.id"></td>
            <td ng-bind="user.username"></td>
            <td ng-if="basics" ng-bind="user.storefront_meta.home.name"></td>
            <td ng-if="basics" ng-bind="user.domain"></td>
            <td ng-if="basics"><small ng-bind="user.last_active_at | timeago"></small></td>
            <td ng-if="basics"><small ng-bind="user.created_at | timeago"></small></td>
            <td ng-if="basics"><small ng-bind="user.proposition"></small></td>
            <!-- <td ng-if="basics" ng-bind="user.storefront_meta.blog.url"></td> -->
            <!-- <td ng-bind="user."></td>
            <td ng-bind="user."></td> -->
          </tr>
        </tbody>
      </table>
    </div>
    <!-- /INFO -->

    <!-- ACTIVITY -->
    <div ng-if="$state.current.name == 'users.activity'">
      <ee-admin-user
        ng-repeat="user in users.data.users"
        user="user"
        ng-if="user.id != 1 && user.id != 47"
        show-activity="true">
      </ee-admin-user>
    </div>
    <!-- /ACTIVITY -->

  </div>

  <div class="full-width text-center" ng-hide="users.data.searching">
    <pagination
      total-items="users.data.inputs.count"
      items-per-page="users.data.inputs.perPage"
      ng-model="users.data.inputs.page"
      max-size="5"
      class="pagination-sm"
      previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
      boundary-links="true"
      rotate="false"
      ng-change="users.fns.update()">
    </pagination>
  </div>
</div>

<ee-loading loading="users.data.searching"></ee-loading>

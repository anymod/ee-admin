<!-- PRODUCTS -->
<div id="products" class="container-fluid max-width-900 position-relative text-center">

  <div ng-hide="products.ee.loading" class="margin-5 text-left">
    <div class="row vert-2">
      <div class="col col-sm-6">
        <!-- Search products -->
        <form ng-submit="products.fns.search(products.ee.Products.search.inputs.search)">
          <div ng-class="{ 'input-group input-group-lg': products.ee.Products.search.inputs.searchLabel }">
            <input type="text" ng-model="products.ee.Products.search.inputs.search" class="form-control" placeholder="Search product titles">
            <span ng-if="products.ee.Products.search.inputs.searchLabel" class="input-group-btn">
              <input type="submit" class="hidden"/>
              <button class="btn btn-default" type="button" ng-click="products.fns.clearSearch()">
                <i class="fa fa-times text-muted"></i>
              </button>
            </span>
          </div>
        </form>
        <!-- /Search products -->
      </div>
      <div class="col col-sm-6">
        <!-- Search ids -->
        <form ng-submit="products.fns.search(products.ee.Products.search.inputs.search)">
          <input type="text" ng-model="products.ee.Products.search.inputs.supplier_id"
            class="form-control"
            placeholder="Search by product id, sku id, or supplier id"/>
        </form>
        <!-- <form ng-submit="products.fns.searchIds(products.ee.Products.search.inputs.search)">
          <div ng-class="{ 'input-group input-group-lg': products.ee.Products.search.inputs.searchLabel }">
            <input type="text" ng-model="products.ee.Products.search.inputs.search" class="form-control" placeholder="Search by product id, sku id, or supplier id">
            <span ng-if="products.ee.Products.search.inputs.searchLabel" class="input-group-btn">
              <input type="submit" class="hidden"/>
              <button class="btn btn-default" type="button" ng-click="products.fns.clearSearch()">
                <i class="fa fa-times text-muted"></i>
              </button>
            </span>
          </div>
        </form> -->
        <!-- /Search ids -->
      </div>
    </div>
    <div class="row vert-5">
      <div class="col col-xs-12">
        <div class="full-width">
          <small class="inline-block vert-7" style="width: 38px;">Order</small>
          <div class="btn-group">
            <div ng-repeat="order in products.ee.Products.search.inputs.orderArray"
              ng-click="products.fns.setOrder(order, 'search')"
              ng-class="{ 'btn-success': order.order == products.ee.Products.search.inputs.order.order}"
              class="btn btn-sm btn-default" style="padding: 5px 8px;"
              ng-bind-html="order.html">
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row vert-5">
      <div class="col col-xs-12">
        <div class="full-width">
          <small class="inline-block vert-7" style="width: 38px;">Filter</small>
          <!-- category -->
          <div class="btn-group btn-group-sm" uib-dropdown ng-if="!products.ee.Products.search.inputs.category.id">
            <button type="button" class="btn btn-default dropdown-toggle" uib-dropdown-toggle>
              Category&nbsp;&nbsp;<span class="caret"></span>
            </button>
            <ul class="uib-dropdown-menu">
              <li ng-repeat="category in products.ee.Products.search.inputs.categoryArray">
                <a href
                  ng-click="products.fns.setCategory(category, 'search')"
                  ng-bind="category.title"></a>
              </li>
            </ul>
          </div>
          <div ng-if="products.ee.Products.search.inputs.category.id"
              ng-click="products.fns.setCategory(null, 'search')"
              class="btn btn-info btn-sm">
            {{ products.ee.Products.search.inputs.category.title }}&nbsp;<i class="fa fa-times"></i>
          </div>
          <!-- /category -->
          <!-- price -->
          <div class="btn-group btn-group-sm" uib-dropdown ng-if="!products.ee.Products.search.inputs.range.min && !products.ee.Products.search.inputs.range.max">
            <button type="button" class="btn btn-default dropdown-toggle" uib-dropdown-toggle>
              Price range&nbsp;&nbsp;<span class="caret"></span>
            </button>
            <ul class="uib-dropdown-menu">
              <li ng-repeat="range in products.ee.Products.search.inputs.rangeArray">
                <a href ng-click="products.fns.setRange(range, 'search')" ng-bind="range | rangeToText"></a>
              </li>
            </ul>
          </div>
          <div ng-if="products.ee.Products.search.inputs.range.min || products.ee.Products.search.inputs.range.max"
              ng-click="products.fns.setRange(null, 'search')"
              class="btn btn-info btn-sm">
            {{ { min: products.ee.Products.search.inputs.range.min, max: products.ee.Products.search.inputs.range.max } | rangeToText }}&nbsp;<i class="fa fa-times"></i>
          </div>
          <!-- /price -->
          <div class="btn btn-sm btn-default">Style&nbsp;&nbsp;<span class="caret"></div>
          <div class="btn btn-sm btn-default">Color&nbsp;&nbsp;<span class="caret"></div>
          <div class="btn btn-sm btn-default">Material&nbsp;&nbsp;<span class="caret"></div>
          <div class="btn btn-sm btn-default"><span class="bg-warning"> Out of stock </span></div>
          <div class="btn btn-sm btn-default"><span class="bg-danger"> Discontinued </span></div>
          <div class="btn btn-sm btn-default">Manual pricing</div>
          <div class="btn btn-sm btn-default">Hidden</div>
        </div>
      </div>
    </div>


    <div class="margin-10 text-center" ng-hide="products.ee.Products.search.products.length <= 0">
      <uib-pagination
        total-items="products.ee.Products.search.count"
        items-per-page="products.ee.Products.search.inputs.perPage"
        ng-model="products.ee.Products.search.inputs.page"
        max-size="5"
        class="pagination-sm margin-0 vertical-align-top"
        previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
        boundary-links="true"
        rotate="false"
        ng-change="products.fns.runSection('search')">
      </uib-pagination>
    </div>
  </div>

  <div ng-hide="products.ee.Products.search.reading || products.ee.loading" class="margin-0-auto">
    <div class="alert alert-info max-width-600 margin-0-auto pad-5" ng-hide="products.compact">
      Edits are immediately live
    </div>

    <div class="text-left overflow-x-scroll vert-10">
      <div class="vert-5" style="width: 880px; height: 32px;">
        <div class="inline-block pull-left" style="width: 76px; height: 32px;"></div>
        <!-- Pricing header -->
        <div ng-if="$state.current.name == 'products.pricing'"
          ng-repeat="heading in ['Supply<br>price', 'Supply<br>shipping', 'eeosk<br>price', 'eeosk<br>shipping', 'eeosk<br>profit', 'Seller<br>price', 'MSRP', '% off', 'Quantity', 'Automate<br>pricing', 'Show in<br>stores']"
          class="inline-block text-right text-muted pull-left line-height-1 width-70"
          ng-bind-html="heading">
        </div>
        <!-- /Pricing header -->
        <!-- Text header -->
        <div ng-if="$state.current.name == 'products.text'">

        </div>
        <!-- /Text header -->
        <!-- Dimension header -->
        <div ng-if="$state.current.name == 'products.properties'">

        </div>
        <!-- /Dimension header -->
        <!-- Links header -->
        <div ng-if="$state.current.name == 'products.links'">

        </div>
        <!-- /Links header -->
        <!-- Dropbox header -->
        <div ng-if="$state.current.name == 'products.dropbox'">

        </div>
        <!-- /Dropbox header -->
      </div>


      <!-- Results -->
      <ee-product-for-admin
        ng-repeat="product in products.ee.Products.search.products"
        ng-hide="product.hide_from_catalog && products.hideHidden"
        product="product"
        styles="products.taxonomyData.taxonomies.styles"
        colors="products.taxonomyData.taxonomies.colors"
        materials="products.taxonomyData.taxonomies.materials"
        compact="products.compact">
      </ee-product-for-admin>
      <!-- /Results -->

      <div ng-show="!products.ee.Products.search.reading && products.ee.Products.search.products.length <= 0">
        <div class="pad-20">No results found</div>
      </div>
    </div>
  </div>

  <div ng-hide="products.ee.Products.search.reading || products.ee.Products.search.count <= products.ee.Products.search.inputs.perPage" class="pad-20 vert-20">
    <uib-pagination
      total-items="products.ee.Products.search.count"
      items-per-page="products.ee.Products.search.inputs.perPage"
      ng-model="products.ee.Products.search.inputs.page"
      max-size="5"
      class="pagination-sm margin-0 vertical-align-top"
      previous-text="&lsaquo;" next-text="&rsaquo;" first-text="&laquo;" last-text="&raquo;"
      boundary-links="true"
      rotate="false"
      ng-change="products.fns.runSection('search')">
    </uib-pagination>
  </div>
</div>
<!-- /PRODUCTS -->

<ee-loading loading="products.ee.Products.search.reading"></ee-loading>
